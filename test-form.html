<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•æ·»åŠ æ¨¡å‹è¡¨å•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        .test-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            border: none;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .btn:hover {
            background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
            transform: translateY(-1px);
        }
        .status {
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
        }
        .status.success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }
        .status.error {
            background: #fef2f2;
            color: #dc2626;
            border: 1px solid #fecaca;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="test-card">
            <h1>SlimPane AI æ’ä»¶æµ‹è¯•</h1>
            <p>è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é¡µé¢ï¼Œç”¨äºéªŒè¯æ·»åŠ æ¨¡å‹åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
            
            <h2>å®‰è£…æ­¥éª¤ï¼š</h2>
            <ol>
                <li><strong>æ‰“å¼€ Chrome æ‰©å±•é¡µé¢</strong>ï¼šåœ¨åœ°å€æ è¾“å…¥ <code>chrome://extensions/</code></li>
                <li><strong>å¯ç”¨å¼€å‘è€…æ¨¡å¼</strong>ï¼šç‚¹å‡»å³ä¸Šè§’çš„"å¼€å‘è€…æ¨¡å¼"å¼€å…³</li>
                <li><strong>åŠ è½½æ‰©å±•</strong>ï¼šç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"</li>
                <li><strong>é€‰æ‹©æ–‡ä»¶å¤¹</strong>ï¼šé€‰æ‹© <code>E:\augment\SlimPane\dist</code> æ–‡ä»¶å¤¹</li>
                <li><strong>ç¡®è®¤å®‰è£…</strong>ï¼šæ‰©å±•åº”è¯¥å‡ºç°åœ¨åˆ—è¡¨ä¸­</li>
            </ol>

            <h2>æµ‹è¯•æ­¥éª¤ï¼š</h2>
            <ol>
                <li><strong>æ‰“å¼€ä¾§è¾¹æ </strong>ï¼šç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„ SlimPaneAI å›¾æ ‡</li>
                <li><strong>è¿›å…¥è®¾ç½®</strong>ï¼šåœ¨ä¾§è¾¹æ ä¸­æ‰¾åˆ°è®¾ç½®æŒ‰é’®æˆ–ç›´æ¥ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®</li>
                <li><strong>æ·»åŠ æ¨¡å‹</strong>ï¼šç‚¹å‡»"æ·»åŠ æ¨¡å‹"æŒ‰é’®</li>
                <li><strong>å¡«å†™è¡¨å•</strong>ï¼š
                    <ul>
                        <li>é€‰æ‹©æœåŠ¡å•†ï¼ˆOpenAIã€Claudeã€Gemini æˆ–è‡ªå®šä¹‰ï¼‰</li>
                        <li>é€‰æ‹©æˆ–è¾“å…¥æ¨¡å‹åç§°</li>
                        <li>è¾“å…¥ API å¯†é’¥</li>
                        <li>å¦‚éœ€è¦ï¼Œå¡«å†™ Base URL</li>
                        <li>è°ƒæ•´é«˜çº§è®¾ç½®ï¼ˆå¯é€‰ï¼‰</li>
                    </ul>
                </li>
                <li><strong>ä¿å­˜é…ç½®</strong>ï¼šç‚¹å‡»"æ·»åŠ æ¨¡å‹"æŒ‰é’®ä¿å­˜</li>
                <li><strong>éªŒè¯ä¿å­˜</strong>ï¼šæ£€æŸ¥æ¨¡å‹æ˜¯å¦å‡ºç°åœ¨åˆ—è¡¨ä¸­</li>
            </ol>

            <h2>æœ€æ–°ä¼˜åŒ–å†…å®¹ï¼š</h2>
            <ul>
                <li>âœ… <strong>æ™ºèƒ½ç•Œé¢åˆ‡æ¢</strong>ï¼šæ²¡æœ‰æ¨¡å‹æ—¶ç›´æ¥æ˜¾ç¤ºæ·»åŠ è¡¨å•ï¼Œæœ‰æ¨¡å‹æ—¶ä½¿ç”¨æ¨¡æ€æ¡†</li>
                <li>âœ… <strong>ä¼˜åŒ–ç©ºçŠ¶æ€</strong>ï¼šæ›´å‹å¥½çš„å¼•å¯¼ç•Œé¢ï¼ŒåŒ…å«åŠŸèƒ½ç‰¹æ€§ä»‹ç»</li>
                <li>âœ… <strong>å†…è”è¡¨å•</strong>ï¼šé¦–æ¬¡é…ç½®æ—¶çš„æ— ç¼ä½“éªŒ</li>
                <li>âœ… <strong>åŠ¨æ€æŒ‰é’®</strong>ï¼šæ ¹æ®æ¨¡å‹æ•°é‡æ™ºèƒ½æ˜¾ç¤º/éšè—æ·»åŠ æŒ‰é’®</li>
                <li>âœ… <strong>å“åº”å¼è®¾è®¡</strong>ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
            </ul>

            <h2>ä¹‹å‰ä¿®å¤çš„é—®é¢˜ï¼š</h2>
            <ul>
                <li>âœ… ä¿®å¤äº†äº‹ä»¶å¤„ç†ä¸åŒ¹é…çš„é—®é¢˜ï¼ˆsave vs savedï¼‰</li>
                <li>âœ… ä¿®å¤äº†æ–¹æ³•åä¸åŒ¹é…çš„é—®é¢˜ï¼ˆremoveModel vs removeModelConfigï¼‰</li>
                <li>âœ… ä¿®å¤äº†ç”¨æˆ·åå¥½è®¾ç½®ä¿å­˜æ–¹æ³•</li>
                <li>âœ… ä¼˜åŒ–äº†UIè®¾è®¡ï¼Œä½¿å…¶æ›´åŠ ç¾è§‚</li>
                <li>âœ… æ·»åŠ äº†ä¸­æ–‡ç•Œé¢</li>
                <li>âœ… æ”¹è¿›äº†è¡¨å•éªŒè¯æç¤º</li>
                <li>âœ… å¢å¼ºäº†è§†è§‰æ•ˆæœå’ŒåŠ¨ç”»</li>
            </ul>

            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                <button class="btn" onclick="openExtensionOptions()">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    æ‰“å¼€æ’ä»¶è®¾ç½®
                </button>

                <button class="btn" onclick="testExtension()" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    æµ‹è¯•æ‰©å±•åŠŸèƒ½
                </button>
            </div>

            <div id="status"></div>
        </div>

        <div class="test-card">
            <h2>ğŸ¨ ç•Œé¢ä¼˜åŒ–äº®ç‚¹</h2>

            <h3>ğŸ“± æ™ºèƒ½ç•Œé¢é€‚é…</h3>
            <ul>
                <li><strong>ç©ºçŠ¶æ€ä¼˜åŒ–</strong>ï¼šé¦–æ¬¡ä½¿ç”¨æ—¶æ˜¾ç¤ºå‹å¥½çš„å¼•å¯¼ç•Œé¢</li>
                <li><strong>å†…è”è¡¨å•</strong>ï¼šæ²¡æœ‰æ¨¡å‹æ—¶ç›´æ¥åœ¨é¡µé¢ä¸­æ˜¾ç¤ºæ·»åŠ è¡¨å•</li>
                <li><strong>æ¨¡æ€æ¡†æ¨¡å¼</strong>ï¼šæœ‰æ¨¡å‹æ—¶ä½¿ç”¨æ¨¡æ€æ¡†è¿›è¡Œç¼–è¾‘</li>
                <li><strong>åŠ¨æ€è®¡æ•°</strong>ï¼šæ ‡é¢˜æ˜¾ç¤ºå½“å‰æ¨¡å‹æ•°é‡</li>
            </ul>

            <h3>ğŸ¯ ç”¨æˆ·ä½“éªŒæ”¹è¿›</h3>
            <ul>
                <li><strong>ç°ä»£åŒ–è®¾è®¡</strong>ï¼šæ¸å˜èƒŒæ™¯ã€åœ†è§’è¾¹æ¡†ã€é˜´å½±æ•ˆæœ</li>
                <li><strong>æ›´å¥½çš„è§†è§‰å±‚æ¬¡</strong>ï¼šæ¸…æ™°çš„æ ‡é¢˜ã€å›¾æ ‡ã€é¢œè‰²åŒºåˆ†</li>
                <li><strong>äº¤äº’åé¦ˆ</strong>ï¼šæ‚¬åœæ•ˆæœã€ç„¦ç‚¹çŠ¶æ€ã€åŠ¨ç”»è¿‡æ¸¡</li>
                <li><strong>ä¸­æ–‡ç•Œé¢</strong>ï¼šæ‰€æœ‰æ–‡æœ¬éƒ½å·²æœ¬åœ°åŒ–</li>
                <li><strong>è¡¨å•éªŒè¯</strong>ï¼šå‹å¥½çš„é”™è¯¯æç¤º</li>
                <li><strong>é«˜çº§è®¾ç½®</strong>ï¼šå¯æŠ˜å çš„é«˜çº§é€‰é¡¹</li>
                <li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šé€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯</li>
            </ul>

            <h3>âœ¨ ç‰¹è‰²åŠŸèƒ½</h3>
            <ul>
                <li><strong>åŠŸèƒ½ç‰¹æ€§å±•ç¤º</strong>ï¼šç©ºçŠ¶æ€æ—¶å±•ç¤ºäº§å“äº®ç‚¹</li>
                <li><strong>æ¸è¿›å¼å¼•å¯¼</strong>ï¼šä»ç®€å•åˆ°å¤æ‚çš„é…ç½®æµç¨‹</li>
                <li><strong>è§†è§‰åé¦ˆ</strong>ï¼šä¸°å¯Œçš„å›¾æ ‡å’ŒåŠ¨ç”»æ•ˆæœ</li>
                <li><strong>æ— ç¼åˆ‡æ¢</strong>ï¼šä¸åŒçŠ¶æ€é—´çš„å¹³æ»‘è¿‡æ¸¡</li>
            </ul>
        </div>
    </div>

    <script>
        function openExtensionOptions() {
            const status = document.getElementById('status');
            
            if (typeof chrome !== 'undefined' && chrome.runtime) {
                try {
                    chrome.runtime.openOptionsPage();
                    status.innerHTML = '<div class="status success">æ­£åœ¨æ‰“å¼€æ’ä»¶è®¾ç½®é¡µé¢...</div>';
                } catch (error) {
                    status.innerHTML = '<div class="status error">æ— æ³•æ‰“å¼€è®¾ç½®é¡µé¢ï¼š' + error.message + '</div>';
                }
            } else {
                status.innerHTML = '<div class="status error">è¯·åœ¨ Chrome æ‰©å±•ç¯å¢ƒä¸­è¿è¡Œæ­¤æµ‹è¯•</div>';
            }
        }

        // æ£€æŸ¥æ’ä»¶æ˜¯å¦å·²åŠ è½½
        window.addEventListener('load', function() {
            const status = document.getElementById('status');

            if (typeof chrome !== 'undefined' && chrome.runtime) {
                // å°è¯•è·å–æ‰©å±•ä¿¡æ¯
                try {
                    const manifest = chrome.runtime.getManifest();
                    if (manifest && manifest.name === 'SlimPaneAI') {
                        status.innerHTML = `
                            <div class="status success">
                                âœ… SlimPaneAI æ‰©å±•å·²æˆåŠŸåŠ è½½<br>
                                ğŸ“¦ ç‰ˆæœ¬: ${manifest.version}<br>
                                ğŸ”§ æ¸…å•ç‰ˆæœ¬: ${manifest.manifest_version}
                            </div>
                        `;
                    } else {
                        status.innerHTML = '<div class="status error">âŒ SlimPaneAI æ‰©å±•æœªæ‰¾åˆ°ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æ­£ç¡®å®‰è£…</div>';
                    }
                } catch (error) {
                    status.innerHTML = '<div class="status error">âŒ æ— æ³•è®¿é—®æ‰©å±•ä¿¡æ¯ï¼š' + error.message + '</div>';
                }
            } else {
                status.innerHTML = '<div class="status error">âŒ è¯·åœ¨ Chrome æ‰©å±•ç¯å¢ƒä¸­è¿è¡Œæ­¤æµ‹è¯•</div>';
            }
        });

        // æ·»åŠ ä¸€ä¸ªæµ‹è¯•æŒ‰é’®æ¥éªŒè¯æ‰©å±•åŠŸèƒ½
        function testExtension() {
            const status = document.getElementById('status');

            if (typeof chrome !== 'undefined' && chrome.runtime) {
                try {
                    // æµ‹è¯•å‘é€æ¶ˆæ¯åˆ°èƒŒæ™¯è„šæœ¬
                    chrome.runtime.sendMessage({ type: 'ping' }, function(response) {
                        if (chrome.runtime.lastError) {
                            status.innerHTML += '<div class="status error">âŒ èƒŒæ™¯è„šæœ¬é€šä¿¡å¤±è´¥: ' + chrome.runtime.lastError.message + '</div>';
                        } else {
                            status.innerHTML += '<div class="status success">âœ… èƒŒæ™¯è„šæœ¬é€šä¿¡æ­£å¸¸</div>';
                        }
                    });
                } catch (error) {
                    status.innerHTML += '<div class="status error">âŒ æ‰©å±•æµ‹è¯•å¤±è´¥: ' + error.message + '</div>';
                }
            }
        }
    </script>
</body>
</html>
