# 🔧 故障排除指南

## 常见问题及解决方案

### 1. 网页聊天功能问题

#### ❌ "Could not establish connection. Receiving end does not exist."

**问题描述：**
点击网页聊天按钮后，显示"无法连接到页面，请刷新页面后重试"的错误。

**原因分析：**
- 内容脚本还未注入到当前页面
- 页面还在加载中
- 扩展刚刚安装或更新
- 当前页面是浏览器内部页面

**解决方案：**
1. **刷新页面**：按 F5 或 Ctrl+R 刷新当前页面
2. **等待页面加载完成**：确保页面完全加载后再尝试
3. **重新加载扩展**：
   - 打开 `chrome://extensions/`
   - 找到 SlimPaneAI 扩展
   - 点击"重新加载"按钮
4. **检查页面类型**：确保不是在以下页面使用：
   - `chrome://` 开头的页面
   - `chrome-extension://` 开头的页面
   - `about:` 开头的页面
   - 新标签页

#### ❌ "无法提取浏览器内部页面的内容"

**问题描述：**
在浏览器设置页面、新标签页等内部页面尝试使用网页聊天功能。

**解决方案：**
- 导航到普通网页（如新闻网站、博客等）
- 网页聊天功能只能在普通网页上使用

#### ❌ 提取的内容为空或不完整

**问题描述：**
网页聊天功能启用成功，但提取的内容很少或为空。

**可能原因：**
- 页面内容主要由 JavaScript 动态生成
- 页面使用了复杂的布局结构
- 页面内容被 iframe 包含

**解决方案：**
1. **等待页面完全加载**：确保所有动态内容都已加载
2. **刷新后重试**：有时重新提取可以获得更好的结果
3. **检查页面结构**：某些单页应用可能需要特殊处理

### 2. 扩展安装问题

#### ❌ 扩展无法加载

**解决方案：**
1. **检查 Chrome 版本**：确保使用 Chrome 88+ 或 Edge 88+
2. **启用开发者模式**：
   - 打开 `chrome://extensions/`
   - 开启右上角的"开发者模式"
3. **重新加载扩展**：删除后重新添加

#### ❌ 侧边栏无法打开

**解决方案：**
1. **检查浏览器支持**：确保浏览器支持侧边栏功能
2. **重启浏览器**：完全关闭浏览器后重新打开
3. **检查扩展权限**：确保扩展有必要的权限

### 3. AI 模型配置问题

#### ❌ "请先配置 AI 模型"

**解决方案：**
1. **打开设置页面**：点击工具栏中的设置按钮
2. **配置服务提供商**：
   - 选择一个 AI 服务提供商（OpenAI、Claude、Gemini）
   - 输入有效的 API 密钥
   - 保存设置
3. **选择模型**：在聊天界面选择一个可用的模型

#### ❌ API 请求失败

**可能原因：**
- API 密钥无效或过期
- 网络连接问题
- API 服务暂时不可用
- 达到使用限制

**解决方案：**
1. **检查 API 密钥**：确保密钥正确且有效
2. **检查网络连接**：确保能正常访问互联网
3. **查看错误信息**：根据具体错误信息进行处理
4. **稍后重试**：如果是服务器问题，稍后再试

### 4. 性能问题

#### ❌ 扩展运行缓慢

**解决方案：**
1. **关闭不必要的标签页**：减少浏览器负担
2. **清理浏览器缓存**：定期清理缓存和数据
3. **重启浏览器**：释放内存资源
4. **检查其他扩展**：禁用可能冲突的扩展

#### ❌ 内存使用过高

**解决方案：**
1. **限制聊天历史**：定期清理旧的对话记录
2. **关闭网页聊天**：不使用时关闭网页聊天功能
3. **重新加载扩展**：定期重新加载扩展

### 5. 数据同步问题

#### ❌ 设置丢失

**解决方案：**
1. **检查存储权限**：确保扩展有存储权限
2. **导出设置**：定期备份重要设置
3. **重新配置**：如果设置丢失，需要重新配置

#### ❌ 聊天记录丢失

**解决方案：**
1. **检查本地存储**：聊天记录存储在本地
2. **避免清理扩展数据**：不要清理扩展的存储数据
3. **定期备份**：重要对话可以手动导出

## 🔍 调试信息

### 获取调试信息

1. **打开开发者工具**：
   - 在扩展页面按 F12
   - 或右键点击 → 检查

2. **查看控制台**：
   - 切换到 Console 标签
   - 查看错误信息和警告

3. **检查网络请求**：
   - 切换到 Network 标签
   - 查看 API 请求状态

### 常见错误代码

- **403 Forbidden**：API 密钥无效
- **429 Too Many Requests**：请求过于频繁
- **500 Internal Server Error**：服务器内部错误
- **Network Error**：网络连接问题

## 📞 获取帮助

如果以上解决方案都无法解决您的问题，请：

1. **收集信息**：
   - 浏览器版本
   - 扩展版本
   - 错误信息截图
   - 重现步骤

2. **检查更新**：
   - 确保使用最新版本的扩展
   - 查看是否有已知问题

3. **重置扩展**：
   - 作为最后手段，可以删除并重新安装扩展
   - 注意备份重要设置和数据

## 🛠️ 预防措施

### 定期维护

1. **更新扩展**：及时更新到最新版本
2. **清理数据**：定期清理不需要的聊天记录
3. **备份设置**：导出重要的配置设置
4. **检查权限**：确保扩展有必要的权限

### 最佳实践

1. **稳定网络**：在稳定的网络环境下使用
2. **合理使用**：避免过于频繁的 API 请求
3. **及时保存**：重要对话及时保存或导出
4. **定期重启**：定期重启浏览器释放资源

---

希望这个故障排除指南能帮助您解决使用中遇到的问题！如果问题仍然存在，请按照上述步骤收集详细信息。
