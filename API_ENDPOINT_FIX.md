# ğŸ”§ API ç«¯ç‚¹é”™è¯¯ä¿®å¤

## ğŸ¯ é—®é¢˜åˆ†æ

æ‚¨é‡åˆ°çš„é”™è¯¯ï¼š
```
LLM request error: Error: API request failed: 404 
{"error":{"message":"Invalid URL (POST /v1)","type":"invalid_request_error","param":"","code":""}}
```

**æ ¹æœ¬åŸå› **: API ç«¯ç‚¹ URL é…ç½®ä¸æ­£ç¡®

## ğŸ” é—®é¢˜è¯¦æƒ…

### åŸå§‹é—®é¢˜
1. **æ‚¨çš„é…ç½®**: ç«¯ç‚¹è®¾ç½®ä¸º `https://newapioneai.com/v1`
2. **å®é™…è¯·æ±‚**: ç³»ç»Ÿå°è¯•è®¿é—® `/v1` è€Œä¸æ˜¯å®Œæ•´çš„èŠå¤©ç«¯ç‚¹
3. **æ­£ç¡®ç«¯ç‚¹**: åº”è¯¥æ˜¯ `https://newapioneai.com/v1/chat/completions`

### æŠ€æœ¯åŸå› 
OpenAI é€‚é…å™¨çš„ `getApiUrl()` æ–¹æ³•åŸæ¥çš„é€»è¾‘ï¼š
```javascript
// åŸæ¥çš„ä»£ç 
getApiUrl(): string {
  return this.config.baseUrl || 'https://api.openai.com/v1/chat/completions';
}
```

è¿™å¯¼è‡´å¦‚æœæ‚¨è®¾ç½®äº† `baseUrl`ï¼Œå®ƒä¼šç›´æ¥ä½¿ç”¨æ‚¨çš„ URLï¼Œä½†æ²¡æœ‰æ·»åŠ å¿…è¦çš„ `/chat/completions` ç«¯ç‚¹ã€‚

## âœ… ä¿®å¤æ–¹æ¡ˆ

æˆ‘å·²ç»ä¿®å¤äº† OpenAI é€‚é…å™¨ï¼Œæ–°çš„é€»è¾‘ï¼š

```javascript
getApiUrl(): string {
  if (this.config.baseUrl) {
    // å¦‚æœè‡ªå®šä¹‰ baseUrl å·²ç»åŒ…å«ç«¯ç‚¹ï¼Œç›´æ¥ä½¿ç”¨
    if (this.config.baseUrl.includes('/chat/completions')) {
      return this.config.baseUrl;
    } else {
      // å¦‚æœåªæ˜¯åŸºç¡€ URLï¼Œæ·»åŠ èŠå¤©ç«¯ç‚¹
      return `${this.config.baseUrl.replace(/\/$/, '')}/chat/completions`;
    }
  }
  return 'https://api.openai.com/v1/chat/completions';
}
```

## ğŸ¯ ä¿®å¤æ•ˆæœ

### ç°åœ¨æ”¯æŒçš„é…ç½®æ–¹å¼

1. **åŸºç¡€ URL æ–¹å¼**ï¼ˆæ¨èï¼‰:
   - ç«¯ç‚¹: `https://newapioneai.com/v1`
   - å®é™…è¯·æ±‚: `https://newapioneai.com/v1/chat/completions`

2. **å®Œæ•´ç«¯ç‚¹æ–¹å¼**:
   - ç«¯ç‚¹: `https://newapioneai.com/v1/chat/completions`
   - å®é™…è¯·æ±‚: `https://newapioneai.com/v1/chat/completions`

3. **é»˜è®¤ OpenAI**:
   - ç«¯ç‚¹: ç•™ç©ºæˆ–ä½¿ç”¨é»˜è®¤
   - å®é™…è¯·æ±‚: `https://api.openai.com/v1/chat/completions`

## ğŸš€ æµ‹è¯•æ­¥éª¤

### 1. é‡æ–°åŠ è½½æ‰©å±•
```bash
# æ‰©å±•å·²é‡æ–°æ‰“åŒ…
```

1. æ‰“å¼€ `chrome://extensions/`
2. æ‰¾åˆ° SlimPaneAI æ‰©å±•
3. ç‚¹å‡»åˆ·æ–°æŒ‰é’® ğŸ”„

### 2. éªŒè¯é…ç½®
æ‚¨å½“å‰çš„é…ç½®åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œï¼š
- **æœåŠ¡å•†**: OpenAI
- **æ¨¡å‹**: gpt-4o
- **ç«¯ç‚¹**: `https://newapioneai.com/v1`
- **API å¯†é’¥**: æ‚¨çš„å¯†é’¥

### 3. æµ‹è¯•èŠå¤©
1. æ‰“å¼€ä¾§è¾¹æ 
2. è¾“å…¥æµ‹è¯•æ¶ˆæ¯ï¼š"ä½ å¥½"
3. åº”è¯¥èƒ½æ­£å¸¸æ”¶åˆ°å›å¤

## ğŸ” å…¶ä»–å¯èƒ½çš„é—®é¢˜

å¦‚æœä¿®å¤åä»æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

### 1. API å¯†é’¥
- ç¡®ä¿ API å¯†é’¥æ­£ç¡®ä¸”æœ‰æ•ˆ
- æ£€æŸ¥å¯†é’¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„æƒé™

### 2. ç«¯ç‚¹å¯ç”¨æ€§
æµ‹è¯•ç«¯ç‚¹æ˜¯å¦å¯è®¿é—®ï¼š
```bash
curl -X POST https://newapioneai.com/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [{"role": "user", "content": "Hello"}]
  }'
```

### 3. ç½‘ç»œè¿æ¥
- ç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸
- æ£€æŸ¥æ˜¯å¦æœ‰é˜²ç«å¢™æˆ–ä»£ç†é˜»æ­¢è¯·æ±‚

### 4. æ¨¡å‹åç§°
- ç¡®è®¤ `gpt-4o` æ˜¯è¯¥ API æœåŠ¡æ”¯æŒçš„æ¨¡å‹åç§°
- æœ‰äº›æœåŠ¡å¯èƒ½ä½¿ç”¨ä¸åŒçš„æ¨¡å‹åç§°

## ğŸ“‹ è°ƒè¯•ä¿¡æ¯

å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æä¾›ï¼š

1. **å®Œæ•´é”™è¯¯ä¿¡æ¯**: èƒŒæ™¯è„šæœ¬æ§åˆ¶å°çš„è¯¦ç»†é”™è¯¯
2. **ç½‘ç»œè¯·æ±‚**: å¼€å‘è€…å·¥å…·ä¸­çš„ç½‘ç»œè¯·æ±‚è¯¦æƒ…
3. **API å“åº”**: æœåŠ¡å™¨è¿”å›çš„å…·ä½“é”™è¯¯ä¿¡æ¯
4. **é…ç½®æˆªå›¾**: å½“å‰çš„æ¨¡å‹é…ç½®è®¾ç½®

## ğŸ¯ éªŒè¯æ¸…å•

ä¿®å¤åè¯·ç¡®è®¤ï¼š

- [ ] æ‰©å±•å·²é‡æ–°åŠ è½½
- [ ] é…ç½®ä¿¡æ¯æ­£ç¡®
- [ ] å¯ä»¥å‘é€æ¶ˆæ¯
- [ ] æ”¶åˆ° AI å›å¤
- [ ] æ²¡æœ‰æ§åˆ¶å°é”™è¯¯

## ğŸ“ å¸¸è§ç«¯ç‚¹æ ¼å¼

ä¸åŒ API æœåŠ¡çš„æ­£ç¡®ç«¯ç‚¹æ ¼å¼ï¼š

### OpenAI å®˜æ–¹
```
https://api.openai.com/v1
```

### OpenAI å…¼å®¹æœåŠ¡
```
https://your-service.com/v1
https://api.your-service.com/v1
https://your-domain.com/api/v1
```

### å®Œæ•´ç«¯ç‚¹
```
https://your-service.com/v1/chat/completions
```

ç°åœ¨çš„ä¿®å¤åº”è¯¥èƒ½å¤Ÿè‡ªåŠ¨å¤„ç†è¿™äº›ä¸åŒçš„æ ¼å¼ï¼ğŸš€âœ¨

## ğŸ‰ æ€»ç»“

ä¿®å¤å†…å®¹ï¼š
- âœ… ä¿®å¤äº† OpenAI é€‚é…å™¨çš„ç«¯ç‚¹å¤„ç†é€»è¾‘
- âœ… æ”¯æŒå¤šç§ç«¯ç‚¹é…ç½®æ ¼å¼
- âœ… è‡ªåŠ¨æ·»åŠ å¿…è¦çš„ `/chat/completions` è·¯å¾„
- âœ… ä¿æŒå‘åå…¼å®¹æ€§

æ‚¨çš„èŠå¤©åŠŸèƒ½ç°åœ¨åº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼
