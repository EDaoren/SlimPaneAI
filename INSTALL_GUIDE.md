# SlimPaneAI 安装和测试指南

## 🚀 快速安装

### 1. 构建扩展
```bash
cd E:/augment/SlimPane
npm run package
```

### 2. 在 Chrome 中安装
1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/`
3. 启用右上角的"开发者模式"开关
4. 点击"加载已解压的扩展程序"
5. 选择 `E:\augment\SlimPane\dist` 文件夹
6. 确认安装

## 🧪 测试添加模型功能

### 方法一：通过侧边栏
1. 点击浏览器工具栏中的 SlimPaneAI 图标
2. 在侧边栏中找到设置按钮
3. 点击"添加模型"按钮
4. 填写表单并保存

### 方法二：通过设置页面
1. 右键点击 SlimPaneAI 图标
2. 选择"选项"或"设置"
3. 点击"添加模型"按钮
4. 填写表单并保存

### 方法三：使用测试页面
1. 在浏览器中打开 `test-form.html`
2. 点击"测试扩展功能"按钮验证安装
3. 点击"打开插件设置"按钮直接跳转

## 📝 表单填写示例

### OpenAI 配置
- **服务商**: OpenAI
- **模型**: gpt-4 或 gpt-3.5-turbo
- **API 密钥**: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
- **Base URL**: 留空（使用默认）

### Claude 配置
- **服务商**: Claude
- **模型**: claude-3-opus-20240229
- **API 密钥**: sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
- **Base URL**: 留空（使用默认）

### 自定义配置
- **服务商**: 自定义
- **模型**: 任意模型名称
- **API 密钥**: 您的 API 密钥
- **Base URL**: https://api.example.com/v1 （必填）

## 🔧 故障排除

### 扩展无法加载
- 确保 `dist` 文件夹包含 `manifest.json`
- 检查 Chrome 开发者模式是否启用
- 查看扩展页面的错误信息

### 添加模型失败
- 检查表单验证提示
- 确保必填字段已填写
- 验证 API 密钥格式正确

### 设置无法保存
- 检查浏览器控制台错误信息
- 确保扩展有存储权限
- 尝试重新加载扩展

## 🎨 UI 改进亮点

### 🆕 最新优化 (v2.0)
- ✅ **智能界面切换**：没有模型时直接显示添加表单，有模型时使用模态框
- ✅ **优化空状态**：更友好的引导界面，包含功能特性介绍
- ✅ **内联表单**：首次配置时的无缝体验
- ✅ **动态按钮**：根据模型数量智能显示/隐藏添加按钮
- ✅ **响应式设计**：适配不同屏幕尺寸
- ✅ **渐进式引导**：从简单到复杂的配置流程

### 🎯 界面状态说明
1. **空状态**：没有配置模型时显示引导界面
2. **内联表单状态**：点击"开始配置"后显示内联表单
3. **列表状态**：有模型后显示模型列表和管理功能
4. **模态框状态**：编辑现有模型时使用模态框

### 🔧 之前修复的问题
- ✅ 事件处理不匹配
- ✅ 方法名不匹配
- ✅ 属性名不匹配
- ✅ 用户偏好设置保存
- ✅ 现代化的模态框设计
- ✅ 渐变背景和动画效果
- ✅ 中文界面本地化
- ✅ 改进的表单验证
- ✅ 可折叠的高级设置
- ✅ 更好的视觉反馈

## 📋 开发命令

```bash
# 开发模式（监听文件变化）
npm run dev

# 构建生产版本
npm run build

# 打包扩展（构建 + 复制文件）
npm run package

# 开发模式打包
npm run dev:package

# 代码检查
npm run lint

# 代码格式化
npm run format
```

## 🔍 调试技巧

### 查看背景脚本日志
1. 打开 `chrome://extensions/`
2. 找到 SlimPaneAI 扩展
3. 点击"检查视图"中的"背景页"

### 查看内容脚本日志
1. 在任意网页按 F12 打开开发者工具
2. 查看 Console 标签页

### 查看侧边栏日志
1. 打开侧边栏
2. 右键点击侧边栏内容
3. 选择"检查"

## 📞 支持

如果遇到问题，请检查：
1. Chrome 版本是否支持 Manifest V3
2. 扩展权限是否正确授予
3. 网络连接是否正常
4. API 密钥是否有效

---

**注意**: 这是开发版本，仅用于测试和开发目的。
